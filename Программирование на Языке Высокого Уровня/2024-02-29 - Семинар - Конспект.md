# Директивы препроцессов
Директивы препроцессов начинаются с символа `#` и обрабатываются во время первой фазы компиляции
Основные возможности препроцессора:
- Макроподстановка
- Включение файлов
- Условная компиляция
## Макроподстановка
```cpp
#define имя замещающий_текст
```
Пример
```cpp
#define matrix for int i=1; i<n; i++) \
for int i=1; i<n; i++) \
```
Используется для простейшей текстовой замены во всех местах, где встречается имя
Обычно замещающий текст замещает строку; но в длинных определениях можно продолжить на следующих строках, поставив в конце каждой продолжаемой строки `\`
Область действия имени в `#define` распространяется от данного определения до конца файла
В определении макроподстановки могут фигурировать более ранние `#define`:
```cpp
#define n 3
#define m n
```
Подстановка осуществляется только для тех имен, которые расположены вне кавычек
### Макросы
Макросы позволяют выполнять замену не только для отдельных символов, но и для выражений
```cpp
#define print(a) printf("%d", a)
```
Внутри фактического аргумента каждый знак `"` заменяется на `\"`; каждый знак `\` - на `\\`
Если в замещающем тексте встречаетя комбинация из формального параметра и предшедствующего ему знака `#`, то такая комбинация будет заменена на аргумент, заключенный в кавычки
В случае, когда нужно, чтобы замены не происходило, можно использовать директиву `#undef`
```cpp
#undef имя
```
## Включение файлов
Директива `#include` приписывают компилятору поместить на ее место содержимое другого файла
```cpp
#include <имя.расширение>
#include "имя.расширение"
```
Если имя файла не является полным именем, то в первом случае поиск файла происходит только в пределах специализированных каталогов
При использовании второй формы сначала просматривается текущий каталог, а затем каталого включаемых файлов
## Условная компиляция
Директивы условной компиляции позволяют в зависимости от условий добавить в файл определенный код
```cpp
#if условие
Исходный_код
#elif условие
Исходный_код
#else
Исходный_код
#endif
```
С помощью директивы `#ifdef` можно проверять определен ли идетификатор и, если он определен, вставлять в исходный код какой-либо текст
Также есть `#ifndef`
В конце птшется `#endif`
Директива `#error` вызывает во время компиляции сообщение об ошибке. В основном эта конструкция используется для отладки
```cpp
#error сообщение_об_ошибке
```